---
import '../styles/global.css';
import Layout from '../components/Layout.astro';
import { getTranslations } from '../i18n/utils';

const t = getTranslations('en');
---

<Layout lang="en" title={`${t.resources.title} - ${t.meta.title}`} currentPage="resources">
	<style>
		details > summary {
			cursor: pointer;
		}
		details[open] > summary {
			margin-bottom: 1rem;
		}
		.tab-button {
			transition: all 0.2s ease;
		}
		.tab-button.active {
			color: #09bc8a;
			border-bottom-color: #09bc8a;
		}
		.tab-panel {
			display: none;
		}
		.tab-panel.active {
			display: block;
		}
	</style>

	<!-- Hero Section -->
	<section class="bg-[#172a3a] py-16">
		<div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
			<div class="text-center">
				<h1 class="text-4xl md:text-5xl font-bold text-[#faf9f6] mb-4">
					{t.resources.title}
				</h1>
				<p class="text-xl text-[#f5f5f0]">
					{t.resources.subtitle}
				</p>
			</div>
		</div>
	</section>

	<!-- Tabs -->
	<section class="bg-[#fafaf8] pt-8">
		<div class="max-w-4xl mx-auto px-4 sm:px-6 lg:px-8">
			<div class="flex justify-center gap-8 border-b border-gray-300">
				<button
					class="tab-button active px-4 py-3 font-semibold text-gray-700 border-b-2 border-transparent"
					data-tab="faq"
				>
					FAQ
				</button>
				<button
					class="tab-button px-4 py-3 font-semibold text-gray-700 border-b-2 border-transparent"
					data-tab="technical"
				>
					Technical Documentation
				</button>
			</div>
		</div>
	</section>

	<!-- FAQ Tab -->
	<section class="tab-panel active py-12 bg-[#fafaf8]" id="faq-panel">
		<div class="max-w-4xl mx-auto px-4 sm:px-6 lg:px-8">
			<h2 class="text-3xl font-bold text-center mb-12">Frequently Asked Questions</h2>

				<!-- Ordering & Pricing -->
				<div class="mb-12">
					<h3 class="text-2xl font-bold mb-6 text-[#172a3a]">{t.resources.faq.ordering.title}</h3>
					<div class="space-y-4">
						{t.resources.faq.ordering.items.map((item) => (
							<details class="bg-white rounded-lg shadow-sm">
								<summary class="px-6 py-4 font-semibold text-gray-800 hover:text-[#09bc8a]">
									{item.question}
								</summary>
								<div class="px-6 pb-4 text-gray-700">
									{item.answer}
								</div>
							</details>
						))}
					</div>
				</div>

				<!-- Sample Preparation -->
				<div class="mb-12">
					<h3 class="text-2xl font-bold mb-6 text-[#172a3a]">{t.resources.faq.samplePrep.title}</h3>
					<div class="space-y-4">
						{t.resources.faq.samplePrep.items.map((item) => (
							<details class="bg-white rounded-lg shadow-sm">
								<summary class="px-6 py-4 font-semibold text-gray-800 hover:text-[#09bc8a]">
									{item.question}
								</summary>
								<div class="px-6 pb-4 text-gray-700">
									{item.answer}
								</div>
							</details>
						))}
					</div>
				</div>

				<!-- Technical Details -->
				<div class="mb-12">
					<h3 class="text-2xl font-bold mb-6 text-[#172a3a]">{t.resources.faq.technical.title}</h3>
					<div class="space-y-4">
						{t.resources.faq.technical.items.map((item) => (
							<details class="bg-white rounded-lg shadow-sm">
								<summary class="px-6 py-4 font-semibold text-gray-800 hover:text-[#09bc8a]">
									{item.question}
								</summary>
								<div class="px-6 pb-4 text-gray-700">
									{item.answer}
								</div>
							</details>
						))}
					</div>
				</div>

			<!-- CTA -->
			<div class="text-center mt-16">
				<p class="text-xl text-gray-700 mb-6">Have more questions?</p>
				<a href="mailto:omixai@omixai.com" class="inline-block bg-[#09bc8a] text-white px-8 py-4 rounded-full text-lg font-semibold hover:bg-[#004346]">
					Contact Us
				</a>
			</div>
		</div>
	</section>

	<!-- Technical Documentation Tab -->
	<section class="tab-panel py-12 bg-[#fafaf8]" id="technical-panel">
		<div class="max-w-4xl mx-auto px-4 sm:px-6 lg:px-8">
			<h2 class="text-3xl font-bold text-center mb-12">Technical Documentation</h2>

			<!-- Platform Specs -->
			<div class="mb-12">
				<h3 class="text-2xl font-bold mb-6 text-[#172a3a]">Mass Spectrometry Platform</h3>
				<div class="bg-white rounded-lg shadow-sm p-6">
					<h4 class="font-semibold text-lg mb-4">Thermo Fisher Orbitrap Astral</h4>
					<ul class="space-y-2 text-gray-700">
						<li><strong>Resolution:</strong> 240,000 FWHM at m/z 200</li>
						<li><strong>Mass Accuracy:</strong> &lt; 1 ppm</li>
						<li><strong>Scan Speed:</strong> 200 Hz</li>
						<li><strong>Dynamic Range:</strong> &gt; 5 orders of magnitude</li>
						<li><strong>Sensitivity:</strong> Sub-femtomole detection limits</li>
					</ul>
				</div>
			</div>

			<!-- Proteomics Workflow -->
			<div class="mb-12">
				<h3 class="text-2xl font-bold mb-6 text-[#172a3a]">Standard Proteomics Workflow</h3>
				<div class="bg-white rounded-lg shadow-sm p-6 space-y-4">
					<div>
						<h4 class="font-semibold mb-2">1. Sample Preparation</h4>
						<p class="text-gray-700">Protein extraction, reduction, alkylation, and tryptic digestion using optimized protocols for each sample type.</p>
					</div>
					<div>
						<h4 class="font-semibold mb-2">2. Peptide Cleanup</h4>
						<p class="text-gray-700">C18 solid-phase extraction to remove salts and contaminants.</p>
					</div>
					<div>
						<h4 class="font-semibold mb-2">3. LC-MS/MS Analysis</h4>
						<p class="text-gray-700">90-120 minute gradient on nanoflow HPLC coupled to Orbitrap Astral with data-dependent acquisition (DDA).</p>
					</div>
					<div>
						<h4 class="font-semibold mb-2">4. Data Processing</h4>
						<p class="text-gray-700">Database searching with FragPipe or MaxQuant, FDR filtering at 1% protein and peptide level.</p>
					</div>
					<div>
						<h4 class="font-semibold mb-2">5. Quantification & Analysis</h4>
						<p class="text-gray-700">Label-free quantification (LFQ) or isobaric labeling (TMT), statistical analysis, pathway enrichment.</p>
					</div>
				</div>
			</div>

			<!-- Performance Metrics -->
			<div class="mb-12">
				<h3 class="text-2xl font-bold mb-6 text-[#172a3a]">Typical Performance Metrics</h3>
				<div class="bg-white rounded-lg shadow-sm p-6">
					<table class="w-full">
						<thead>
							<tr class="border-b">
								<th class="text-left py-2">Sample Type</th>
								<th class="text-left py-2">Proteins Identified</th>
								<th class="text-left py-2">Peptides Identified</th>
							</tr>
						</thead>
						<tbody class="text-gray-700">
							<tr class="border-b">
								<td class="py-2">Human cell line (1 μg)</td>
								<td class="py-2">8,000-10,000</td>
								<td class="py-2">80,000-100,000</td>
							</tr>
							<tr class="border-b">
								<td class="py-2">Human tissue (10 mg)</td>
								<td class="py-2">9,000-12,000</td>
								<td class="py-2">90,000-120,000</td>
							</tr>
							<tr>
								<td class="py-2">Human plasma (10 μL)</td>
								<td class="py-2">500-800</td>
								<td class="py-2">5,000-8,000</td>
							</tr>
						</tbody>
					</table>
				</div>
			</div>

			<!-- CTA -->
			<div class="text-center mt-16">
				<p class="text-xl text-gray-700 mb-6">Need more technical details?</p>
				<a href="mailto:omixai@omixai.com" class="inline-block bg-[#09bc8a] text-white px-8 py-4 rounded-full text-lg font-semibold hover:bg-[#004346]">
					Contact Us
				</a>
			</div>
		</div>
	</section>

	<script>
		// Tab switching functionality
		const tabButtons = document.querySelectorAll('.tab-button');
		const tabPanels = document.querySelectorAll('.tab-panel');

		tabButtons.forEach(button => {
			button.addEventListener('click', () => {
				const tabName = button.getAttribute('data-tab');

				// Remove active class from all buttons and panels
				tabButtons.forEach(btn => btn.classList.remove('active'));
				tabPanels.forEach(panel => panel.classList.remove('active'));

				// Add active class to clicked button and corresponding panel
				button.classList.add('active');
				document.getElementById(`${tabName}-panel`).classList.add('active');
			});
		});
	</script>
</Layout>
