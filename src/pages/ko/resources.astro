---
import '../../styles/global.css';
import Layout from '../../components/Layout.astro';
import { getTranslations } from '../../content/translations';

const t = getTranslations('ko');
---

<Layout lang="ko" title={`${t.resources.title} - ${t.meta.title}`} currentPage="resources" lightHeader={false}>
	<style>
		details > summary {
			cursor: pointer;
		}
		details[open] > summary {
			margin-bottom: 1rem;
		}
		.tab-button {
			transition: all 0.2s ease;
		}
		.tab-button.active {
			color: #31c27c;
			border-bottom-color: #31c27c;
		}
		.tab-panel {
			display: none;
		}
		.tab-panel.active {
			display: block;
		}
	</style>

	<!-- Hero Section -->
	<section class="bg-gradient-to-b from-slate-900 to-slate-800 py-16">
		<div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 text-center">
			<h1 class="text-3xl md:text-4xl text-white mb-3 animate-fade-in-up">
				{t.resources.title}
			</h1>
			<p class="text-lg text-slate-300 animate-fade-in-up animate-delay-200">
				{t.resources.subtitle}
			</p>
		</div>
	</section>

	<!-- Tabs -->
	<section class="bg-slate-900 pt-8">
		<div class="max-w-4xl mx-auto px-4 sm:px-6 lg:px-8">
			<div class="flex justify-center gap-8 border-b border-white/10">
				<a
					href="#faq"
					class="tab-button active px-4 py-3 text-slate-300 border-b-2 border-transparent no-underline"
					data-tab="faq"
				>
					FAQ
				</a>
				<a
					href="#technical"
					class="tab-button px-4 py-3 text-slate-300 border-b-2 border-transparent no-underline"
					data-tab="technical"
				>
					기술 문서
				</a>
			</div>
		</div>
	</section>

	<!-- FAQ Tab -->
	<section class="tab-panel active py-12 bg-slate-900" id="faq-panel">
		<div class="max-w-4xl mx-auto px-4 sm:px-6 lg:px-8">
			<h2 class="text-3xl text-center text-white mb-12">자주 묻는 질문</h2>

				<!-- Ordering & Pricing -->
				<div class="mb-12">
					<h3 class="text-2xl mb-6 text-slate-200">{t.resources.faq.ordering.title}</h3>
					<div class="space-y-4">
						{t.resources.faq.ordering.items.map((item) => (
							<details class="glass-card rounded-lg">
								<summary class="px-6 py-4 text-slate-200 hover:text-emerald-400">
									{item.question}
								</summary>
								<div class="px-6 pb-4 text-slate-400">
									{item.answer}
								</div>
							</details>
						))}
					</div>
				</div>

				<!-- Sample Preparation -->
				<div class="mb-12">
					<h3 class="text-2xl mb-6 text-slate-200">{t.resources.faq.samplePrep.title}</h3>
					<div class="space-y-4">
						{t.resources.faq.samplePrep.items.map((item) => (
							<details class="glass-card rounded-lg">
								<summary class="px-6 py-4 text-slate-200 hover:text-emerald-400">
									{item.question}
								</summary>
								<div class="px-6 pb-4 text-slate-400">
									{item.answer}
								</div>
							</details>
						))}
					</div>
				</div>

				<!-- Technical Details -->
				<div class="mb-12">
					<h3 class="text-2xl mb-6 text-slate-200">{t.resources.faq.technical.title}</h3>
					<div class="space-y-4">
						{t.resources.faq.technical.items.map((item) => (
							<details class="glass-card rounded-lg">
								<summary class="px-6 py-4 text-slate-200 hover:text-emerald-400">
									{item.question}
								</summary>
								<div class="px-6 pb-4 text-slate-400">
									{item.answer}
								</div>
							</details>
						))}
					</div>
				</div>

			<!-- CTA -->
			<div class="text-center mt-16">
				<p class="text-xl text-slate-300 mb-6">더 궁금한 점이 있으신가요?</p>
				<a href="mailto:omixai@omixai.com" class="btn-primary inline-block px-8 py-4 rounded-full text-lg">
					문의하기
				</a>
			</div>
		</div>
	</section>

	<!-- Technical Documentation Tab -->
	<section class="tab-panel py-12 bg-slate-900" id="technical-panel">
		<div class="max-w-4xl mx-auto px-4 sm:px-6 lg:px-8">
			<h2 class="text-3xl text-center text-white mb-12">기술 문서</h2>

			<!-- Platform Specs -->
			<div class="mb-12">
				<h3 class="text-2xl mb-6 text-slate-200">질량분석 플랫폼</h3>
				<div class="glass-card rounded-lg p-6">
					<h4 class="text-lg text-white mb-4">Thermo Fisher Orbitrap Astral</h4>
					<ul class="space-y-2 text-slate-300">
						<li><strong class="text-slate-200">해상도:</strong> 240,000 FWHM (m/z 200)</li>
						<li><strong class="text-slate-200">질량 정확도:</strong> &lt; 1 ppm</li>
						<li><strong class="text-slate-200">스캔 속도:</strong> 200 Hz</li>
						<li><strong class="text-slate-200">동적 범위:</strong> &gt; 5 orders of magnitude</li>
						<li><strong class="text-slate-200">감도:</strong> 서브-펨토몰 검출 한계</li>
					</ul>
				</div>
			</div>

			<!-- Proteomics Workflow -->
			<div class="mb-12">
				<h3 class="text-2xl mb-6 text-slate-200">표준 프로테오믹스 워크플로우</h3>
				<div class="glass-card rounded-lg p-6 space-y-4">
					<div>
						<h4 class="text-white mb-2">1. 샘플 준비 (Sample Preparation)</h4>
						<p class="text-slate-400">Liquid Handler 기반의 자동화 전처리 시스템을 도입하여, 추출부터 트립신 소화(Digestion)까지의 전 과정을 단일 튜브 내에서 신속하고 재현성 있게 수행합니다.</p>
					</div>
					<div>
						<h4 class="text-white mb-2">2. 펩타이드 정제 (Peptide Purification)</h4>
						<p class="text-slate-400">Magnetic Bead 기술을 활용한 고효율 세척 공정으로 염분 및 불순물을 완벽히 제거하여, 분석에 최적화된 고순도 펩타이드를 회수합니다.</p>
					</div>
					<div>
						<h4 class="text-white mb-2">3. LC-MS/MS 분석 (LC-MS/MS Analysis)</h4>
						<p class="text-slate-400">Orbitrap Astral의 DIA(Data-Independent Acquisition) 모드와 20~40분의 고속 그라디언트(Short Gradient)를 결합하여, 데이터 심도와 분석 처리량(Throughput)을 동시에 극대화합니다.</p>
					</div>
					<div>
						<h4 class="text-white mb-2">4. 데이터 처리 (Data Processing)</h4>
						<p class="text-slate-400">딥러닝 기반의 DIA-NN 소프트웨어를 통해 정밀한 라이브러리 검색을 수행하고, 1% FDR 필터링을 적용하여 신뢰도 높은 펩타이드 및 단백질 동정 결과를 확보합니다.</p>
					</div>
					<div>
						<h4 class="text-white mb-2">5. 정량 및 분석 (Quantification & Analysis)</h4>
						<p class="text-slate-400">고정밀 Label-Free Quantification(LFQ)을 수행하며, 이어지는 다변량 통계 분석 및 경로(Pathway) 분석을 통해 심층적인 생물학적 인사이트를 제공합니다.</p>
					</div>
				</div>
			</div>

			<!-- Performance Metrics -->
			<div class="mb-12">
				<h3 class="text-2xl mb-6 text-slate-200">일반적인 성능 지표</h3>
				<div class="glass-card rounded-lg p-6 overflow-x-auto">
					<table class="w-full">
						<thead>
							<tr class="border-b border-white/10">
								<th class="text-left py-2 text-slate-200">샘플 유형</th>
								<th class="text-left py-2 text-slate-200">식별된 단백질</th>
								<th class="text-left py-2 text-slate-200">식별된 펩타이드</th>
							</tr>
						</thead>
						<tbody class="text-slate-300">
							<tr class="border-b border-white/10">
								<td class="py-2">인간 세포주 (1 μg)</td>
								<td class="py-2">8,000-10,000</td>
								<td class="py-2">80,000-100,000</td>
							</tr>
							<tr class="border-b border-white/10">
								<td class="py-2">인간 조직 (10 mg)</td>
								<td class="py-2">9,000-12,000</td>
								<td class="py-2">90,000-120,000</td>
							</tr>
							<tr>
								<td class="py-2">인간 혈장 (10 μL)</td>
								<td class="py-2">500-800</td>
								<td class="py-2">5,000-8,000</td>
							</tr>
						</tbody>
					</table>
				</div>
			</div>

			<!-- CTA -->
			<div class="text-center mt-16">
				<p class="text-xl text-slate-300 mb-6">더 자세한 기술 정보가 필요하신가요?</p>
				<a href="mailto:omixai@omixai.com" class="btn-primary inline-block px-8 py-4 rounded-full text-lg">
					문의하기
				</a>
			</div>
		</div>
	</section>

	<script>
		// Tab switching functionality
		const tabButtons = document.querySelectorAll('.tab-button');
		const tabPanels = document.querySelectorAll('.tab-panel');

		function switchTab(tabName: string) {
			// Remove active class from all buttons and panels
			tabButtons.forEach(btn => btn.classList.remove('active'));
			tabPanels.forEach(panel => panel.classList.remove('active'));

			// Add active class to clicked button and corresponding panel
			const activeButton = document.querySelector(`[data-tab="${tabName}"]`);
			const activePanel = document.getElementById(`${tabName}-panel`);

			if (activeButton && activePanel) {
				activeButton.classList.add('active');
				activePanel.classList.add('active');
			}
		}

		// Handle hash changes
		function handleHashChange() {
			const hash = window.location.hash.slice(1); // Remove the '#'
			if (hash === 'faq' || hash === 'technical') {
				switchTab(hash);
			} else {
				switchTab('faq'); // Default to FAQ
			}
		}

		// Listen for hash changes
		window.addEventListener('hashchange', handleHashChange);

		// Initialize on page load
		handleHashChange();
	</script>
</Layout>
